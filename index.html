<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>WeSpark Console - Funcionalidad Completa</title>
  <script src="https://cdn.jsdelivr.net/npm/canvas-confetti@1.4.0/dist/confetti.browser.min.js"></script>
  <style>
    :root {
      --yellow: #FCD307;
      --black: #000000;
      --gray: #E2E2E2;
      --white: #FFFFFF;
    }

    * {
      box-sizing: border-box;
      margin: 0;
      padding: 0;
    }

    body {
      font-family: Arial, sans-serif;
      background: var(--gray);
      display: flex;
      justify-content: center;
      align-items: center;
      min-height: 100vh;
      padding: 20px;
    }

    .console {
      background: #e0e0e0;
      border: 4px solid #888;
      border-radius: 10px;
      padding: 20px;
      width: 90vmin;
      max-width: 600px;
      text-align: center;
      border-radius: 50px;
    }

    .screen {
      background: url("data:image/svg+xml,%3Csvg width='100%25' height='100%25' xmlns='http://www.w3.org/2000/svg'%3E%3Cdefs%3E%3Cpattern id='dots' width='2' height='2' patternUnits='userSpaceOnUse'%3E%3Crect width='1' height='1' fill='%23999999'/%3E%3C/pattern%3E%3C/defs%3E%3Crect width='100%25' height='100%25' fill='url(%23dots)' /%3E%3C/svg%3E");
      margin: 0 auto 20px;
      width: 250px;
      height: 150px;
      position: relative;
      border: 4px solid #777;
      border-radius: 8px;
      overflow: hidden;
    }

    .logo {
      width: 60px;
      position: absolute;
      top: 64%;
      left: 20%;
      transform: translate(-50%, -50%) rotate(-30deg) scale(1);
      transition: all 0.3s ease;
    }

    .target {
      position: absolute;
      left: 50%;
      top: 50%;
      width: 50px;
      height: 50px;
      margin-left: -25px;
      margin-top: -25px;
    }

    .controls {
      display: flex;
      justify-content: space-between;
      margin-top: 15px;
      flex-wrap: wrap;
    }

    .control {
      flex: 1;
      min-width: 100px;
      margin: 5px;
    }

    .label {
      font-size: 14px;
      margin-bottom: 5px;
      text-align: center;
    }

    .slider-container {
      display: flex;
      flex-direction: column;
      align-items: center;
      height: 150px;
      justify-content: space-between;
      position: relative;
    }

    .slider-track {
      width: 10px;
      border-radius: 10%;
      height: 100px;
      background: #3b3b3b;
      position: relative;
      margin: 0 auto;
    }

    .slider-thumb {
      width: 80px;
      height: 23px;
      background: var(--yellow);
      border: 3px solid var(--black);
      position: absolute;
      left: -36px;
      top: 70px;
      border-radius: 10%;
      cursor: pointer;
    }

    .slider-thumb::after {
      content: "";
      position: absolute;
      width: 0;
      height: 0;
      border-left: 10px solid transparent;
      border-right: 10px solid transparent;
      border-bottom: 15px solid var(--black);
      top: 1px;
      left: 29px;
    }

    .image-switcher {
      display: flex;
      flex-direction: column;
      align-items: center;
      justify-content: center;
      margin-bottom: 5px;
      position: relative;
      height: 100px;
    }

    .rotating-image {
      width: 60px;
      height: 70px;
      margin: 10px auto;
      transition: transform 0.3s ease;
      position: relative;
      left: -25px;
      top: 50px;
    }

    .image-options {
      position: relative;
      width: 100%;
      height: 70px;
      font-size: 10px;
    }

    .image-option {
      position: absolute;
      padding: 5px;
      cursor: pointer;
      font-weight: bold;
      color: #555;
    }

    .image-option::after {
      content: "â€¢";
      position: absolute;
      left: 50%;
      transform: translateX(-50%);
      top: calc(100% - 25px);
      font-size: 50px;
    }

    .image-option.selected {
      color: var(--black);
    }

    .image-option[data-value="Not needed"].selected {
      color: red;
    }

    .image-option[data-value="Strategic"].selected {
      color: green;
    }

    .image-option[data-value="Optimization"].selected {
      color: orange;
    }

    .image-option[data-value="Not needed"] {
      top: 35px;
      left: 4%;
      transform: translateX(-50%);
    }

    .image-option[data-value="Optimization"] {
      top: 20px;
      left: 2%;
      transform: translateY(-50%);
    }

    .image-option[data-value="Strategic"] {
      top: 45px;
      right: 20%;
      transform: translateY(-50%);
    }

    .bar {
      background: linear-gradient(to top, #b82121, #db7575, #008000);
      width: 30px;
      height: 80px;
      margin: auto;
      position: relative;
      border-radius: 8px;
      border: 3px solid var(--white);
      overflow: visible;
    }

    .yellow-triangle {
      width: 0;
      height: 0;
      position: absolute;
      cursor: pointer;
      top: 50%;
      transform: translateY(-50%);
    }

    .triangle-left {
      border-top: 10px solid transparent;
      border-bottom: 10px solid transparent;
      border-left: 15px solid #fcd307;
      left: -2px;
    }

    .triangle-right {
      border-top: 10px solid transparent;
      border-bottom: 10px solid transparent;
      border-right: 15px solid #fcd307;
      right: -2px;
    }

    button {
      margin-top: 8px;
      padding: 6px 15px;
      font-size: 12px;
      border-radius: 8px;
      border: 3px solid var(--black);
      background: var(--yellow);
      color: var(--black);
      cursor: pointer;
    }

    #choiceButton {
      margin-top: 10px;
      padding: 10px 15px;
      font-size: 14px;
      font-weight: bold;
      border-radius: 6px;
      border: none;
      background: var(--black);
      color: red;
      cursor: pointer;
      margin-left: -65px;
    }

    input[type="radio"] {
      accent-color: white;
    }

    input[type="radio"]:checked {
      accent-color: var(--black);
    }

    label:hover {
      background-color: #ffae00 !important;
    }

    #retryButton {
      margin-top: 10px;
      margin-left: 35px;
      padding: 6px 15px;
      font-size: 14px;
      font-weight: bold;
      border-radius: 6px;
      border: none;
      background: var(--black);
      color: var(--white);
      cursor: pointer;
      display: none;
    }

    #continueButton {
      margin-top: 10px;
      padding: 6px 15px;
      font-size: 14px;
      font-weight: bold;
      border-radius: 6px;
      border: none;
      background: var(--yellow);
      color: var(--black);
      cursor: pointer;
      display: none;
    }

    .gauge-image {
      width: 150px;
      height: 70px;
      margin: 0 auto;
      display: block;
      border-radius: 8%;
    }
  </style>
</head>
<body>
  <div class="console">
    <h3>6/7</h3>
    <p>Interact with the console to<br>align the logo perfectly.</p>
    <div class="screen" id="screen">
      <img src="https://static.wixstatic.com/media/9c422e_1738f6701c4c414dbddba37729e29e07~mv2.png" class="logo" id="logo">
      <svg class="target" viewBox="0 0 32 32">
        <circle cx="16" cy="16" r="10" fill="none" stroke="#ffd025" stroke-width="2"/>
        <circle cx="16" cy="16" r="5" fill="none" stroke="#ffd025" stroke-width="2"/>
        <line x1="16" y1="0" x2="16" y2="32" stroke="#ffd025" stroke-width="2"/>
        <line x1="0" y1="16" x2="32" y2="16" stroke="#ffd025" stroke-width="2"/>
      </svg>
    </div>
    <h2><p><strong>Who's <span style="color:#000">WeSpark's</span> perfect customer?</strong></p></h2>
    <div class="controls">
      <div class="control">
        <div class="label">Minimum<br>Budget</div>
        <div class="slider-container">
          <div class="label" style="font-size: 10px;">More than<br>5000USD net</div>
          <div class="slider-track" id="sliderTrack">
            <div class="slider-thumb" id="sliderThumb"></div>
          </div>
          <div class="label" style="font-size: 10px;">Less than<br>100USD net</div>
        </div>
      </div>
      <div class="control">
        <div class="label" style="width: 100px; height: 30px; position: relative; left: -15px; top: 0;">Project Importance</div>
        <button id="choiceButton">Not needed</button>
        <div class="image-switcher">
          <div class="image-options">
            <div class="image-option selected" data-value="Not needed">Not needed</div>
            <div class="image-option" data-value="Optimization">Optimization</div>
            <div class="image-option" data-value="Strategic">Strategic</div>
          </div>
          <img src="https://static.wixstatic.com/media/a687f1_fb6360799d3b4d1295e738a1e37d3d7f~mv2.png" class="rotating-image" id="rotatingImage">
        </div>
      </div>
      <div class="control">
        <div class="label">How well you<br>know WeSpark</div>
        <svg class="gauge-svg" viewBox="0 0 200 100" style="width: 150px; height: 80px; position: relative; left: -15px; top: 0; border-radius: 27px;">
          <image href="https://static.wixstatic.com/media/a687f1_8b0c932c1f8f409189504a7f7be8fabe~mv2.png" width="200" height="100"/>
          <line id="needle" x1="100" y1="80" x2="80" y2="10" stroke="black" stroke-width="4" stroke-linecap="round" transform="rotate(-50, 100, 100)"/>
        </svg>
        <div style="display: flex; flex-direction: column; gap: 5px; align-items: center;">
          <label style="background: var(--yellow); padding: 8px 15px; border-radius: 30px; font-size: 12px; width: 150%; max-width: 170px; display: flex; align-items: center;">
            <input type="radio" name="know" value="0" style="margin-right: 10px;" checked> I've heard about the agency
          </label>
          <label style="background: var(--yellow); padding: 8px 15px; border-radius: 30px; font-size: 12px; width: 150%; max-width: 170px; display: flex; align-items: center;">
            <input type="radio" name="know" value="1" style="margin-right: 10px;"> I know a tiny bit about the agency
          </label>
          <label style="background: var(--yellow); padding: 8px 15px; border-radius: 30px; font-size: 12px; width: 150%; max-width: 170px; display: flex; align-items: center;">
            <input type="radio" name="know" value="2" style="margin-right: 10px;"> I understand what WeSpark does
          </label>
          <label style="background: var(--yellow); padding: 8px 15px; border-radius: 30px; font-size: 12px; width: 150%; max-width: 170px; display: flex; align-items: center;">
            <input type="radio" name="know" value="3" style="margin-right: 10px;"> I'm a big fan of WeSpark
          </label>
        </div>
      </div>
      <div class="control">
        <div class="label">Ready<br>to Start</div>
        <div style="position: relative; height: 140px; display: flex; flex-direction: column; align-items: center;">
          <div style="font-size: 10px; font-weight: normal; position: absolute; top: 10px; text-align: center;">In the next<br>2 Months</div>
          <br>
          <div class="bar" id="bar" style="width: 30px; height: 80px; top: 0;">
            <div class="yellow-triangle triangle-left" id="triangle1"></div>
            <div class="yellow-triangle triangle-right" id="triangle2"></div>
          </div>
          <div style="font-size: 10px; font-weight: normal; position: absolute; top: 120px; text-align: center;">In 1 Year</div>
        </div>
        <button id="pushButton">Push</button>
        <button id="retryButton">Retry</button>
      </div>
    </div>
    <center><button id="continueButton">Continue [10]</button></center>
  </div>
  <script>
    const logo = document.getElementById('logo');
    const sliderThumb = document.getElementById('sliderThumb');
    const sliderTrack = document.getElementById('sliderTrack');
    const rotatingImage = document.getElementById('rotatingImage');
    const imageOptions = document.querySelectorAll('.image-option');
    const choiceButton = document.getElementById('choiceButton');
    const needle = document.getElementById('needle');
    const pushButton = document.getElementById('pushButton');
    const retryButton = document.getElementById('retryButton');
    const continueButton = document.getElementById('continueButton');
    const triangle1 = document.getElementById('triangle1');
    const triangle2 = document.getElementById('triangle2');
    const bar = document.getElementById('bar');

    let trianglePosition = 50;
    let triangleDirection = 1;
    let triangleSpeed = 1;
    let triangleAnimationId;
    let isAnimationRunning = true;
    let confettiCount = 0;

    document.addEventListener('DOMContentLoaded', () => {
      rotatingImage.style.transform = 'rotate(-70deg)';
      logo.style.left = '20%';
      startTriangleAnimation();
      setInterval(checkLogoPosition, 100);
    });

    function startTriangleAnimation() {
      function animate() {
        trianglePosition += triangleDirection * triangleSpeed;
        if (trianglePosition >= 100) {
          triangleDirection = -1;
          trianglePosition = 100;
        } else if (trianglePosition <= 0) {
          triangleDirection = 1;
          trianglePosition = 0;
        }
        triangle1.style.top = `${trianglePosition}%`;
        triangle2.style.top = `${trianglePosition}%`;
        if (isAnimationRunning) {
          triangleAnimationId = requestAnimationFrame(animate);
        }
      }
      animate();
    }

    pushButton.addEventListener('click', () => {
      isAnimationRunning = false;
      cancelAnimationFrame(triangleAnimationId);
      if (trianglePosition <= 35) {
        logo.style.top = '50%';
        logo.style.left = '50%';
        retryButton.style.display = 'none';
      } else if (trianglePosition >= 10) {
        logo.style.top = '80%';
        logo.style.left = '50%';
        retryButton.style.display = 'block';
      } else {
        logo.style.top = '50%';
        logo.style.left = '50%';
        retryButton.style.display = 'none';
      }
    });

    function checkLogoPosition() {
      const logoRect = logo.getBoundingClientRect();
      const targetRect = document.querySelector('.target').getBoundingClientRect();
      const logoCenterX = logoRect.left + logoRect.width / 2;
      const logoCenterY = logoRect.top + logoRect.height / 2;
      const targetCenterX = targetRect.left + targetRect.width / 2;
      const targetCenterY = targetRect.top + targetRect.height / 2;
      const distance = Math.sqrt(Math.pow(logoCenterX - targetCenterX, 2) + Math.pow(logoCenterY - targetCenterY, 2));
      if (distance < 10 && confettiCount < 3) {
        celebrateWithConfetti();
        confettiCount++;
        startCountdown();
      }
    }

    retryButton.addEventListener('click', () => {
      isAnimationRunning = true;
      startTriangleAnimation();
      retryButton.style.display = 'none';
    });

    let isDragging = false;
    let startY = 0;
    let startTop = 0;

    sliderThumb.addEventListener('mousedown', (e) => {
      isDragging = true;
      startY = e.clientY;
      startTop = parseInt(window.getComputedStyle(sliderThumb).top, 10);
      e.preventDefault();
    });

    document.addEventListener('mousemove', (e) => {
      if (!isDragging) return;
      const deltaY = e.clientY - startY;
      const newTop = startTop + deltaY;
      const trackHeight = sliderTrack.offsetHeight;
      const thumbHeight = sliderThumb.offsetHeight;
      const maxTop = trackHeight - thumbHeight;
      if (newTop < 0) {
        sliderThumb.style.top = '0px';
      } else if (newTop > maxTop) {
        sliderThumb.style.top = `${maxTop}px`;
      } else {
        sliderThumb.style.top = `${newTop}px`;
      }
      const scale = 1 - parseInt(sliderThumb.style.top, 10) / maxTop;
      const currentTransform = window.getComputedStyle(logo).transform;
      const matrix = currentTransform.match(/^matrix\((.+)\)$/);
      let rotation = -30;
      if (matrix) {
        const values = matrix[1].split(', ');
        const a = values[0];
        const b = values[1];
        rotation = Math.round(Math.atan2(b, a) * (180/Math.PI));
      }
      logo.style.transform = `translate(-50%, -50%) rotate(${rotation}deg) scale(${0.5 + scale})`;
    });

    document.addEventListener('mouseup', () => {
      isDragging = false;
    });

    imageOptions.forEach((option, index) => {
      option.addEventListener('click', () => {
        imageOptions.forEach(opt => opt.classList.remove('selected'));
        option.classList.add('selected');
        const positions = ['20%', 'calc(50% - 30px)', '50%'];
        logo.style.left = positions[index];
        const rotations = ['-70deg', '-36deg', '2deg'];
        rotatingImage.style.transform = `rotate(${rotations[index]})`;
        choiceButton.textContent = option.textContent;
        choiceButton.style.color = option.getAttribute('data-value') === 'Strategic' ? 'green' : option.getAttribute('data-value') === 'Optimization' ? 'orange' : 'red';
      });
    });

    document.querySelectorAll('input[name="know"]').forEach(radio => {
      radio.addEventListener('change', () => {
        const angleMap = [-50, -10, 35, 75];
        const angle = angleMap[parseInt(radio.value)] || -90;
        needle.setAttribute('transform', `rotate(${angle}, 100, 100)`);
        const currentTransform = window.getComputedStyle(logo).transform;
        const scaleMatch = currentTransform.match(/scale\(([0-9.]+)\)/);
        const currentScale = scaleMatch ? parseFloat(scaleMatch[1]) : 1.5;
        if (radio.value == 0) {
          logo.style.transform = `translate(-50%, -50%) rotate(180deg) scale(${currentScale})`;
        } else if (radio.value == 1) {
          logo.style.transform = `translate(-50%, -50%) rotate(-90deg) scale(${currentScale})`;
        } else if (radio.value == 2 || radio.value == 3) {
          logo.style.transform = `translate(-50%, -50%) rotate(0deg) scale(${currentScale})`;
        }
      });
    });

    function celebrateWithConfetti() {
      confetti({
        particleCount: 100,
        spread: 70,
        origin: { y: 0.6 }
      });
    }

    function startCountdown() {
      let count = 10;
      continueButton.style.display = 'block';
      continueButton.textContent = `Continue [${count}]`;
      const countdownInterval = setInterval(() => {
        count--;
        continueButton.textContent = `Continue [${count}]`;
        if (count <= 0) {
          clearInterval(countdownInterval);
          window.location.href = 'https://levi5171.wixstudio.com/my-site-1/blank-8';
        }
      }, 1000);
      continueButton.addEventListener('click', () => {
        clearInterval(countdownInterval);
        window.location.href = 'https://levi5171.wixstudio.com/my-site-1/blank-8';
      });
    }
  </script>
</body>
</html>
